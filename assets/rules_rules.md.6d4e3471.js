import{_ as s,c as n,o as l,a}from"./app.cae277e4.js";const A=JSON.parse('{"title":"\u89C4\u5219\u96C6\u5408","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u76F8\u5173\u9879\u76EE","slug":"\u76F8\u5173\u9879\u76EE"},{"level":2,"title":"CI \u6D41\u7A0B\u63A5\u5165","slug":"ci-\u6D41\u7A0B\u63A5\u5165"},{"level":2,"title":"\u89C4\u5219\u5217\u8868","slug":"\u89C4\u5219\u5217\u8868"},{"level":2,"title":"Todo","slug":"todo"},{"level":2,"title":"Use","slug":"use"}],"relativePath":"rules/rules.md","lastUpdated":1653911881000}'),p={name:"rules/rules.md"},o=a(`<h1 id="\u89C4\u5219\u96C6\u5408" tabindex="-1">\u89C4\u5219\u96C6\u5408 <a class="header-anchor" href="#\u89C4\u5219\u96C6\u5408" aria-hidden="true">#</a></h1><p>\u57FA\u4E8E <a href="https://github.com/umijs/fabric" target="_blank" rel="noopener noreferrer">@umijs/fabric</a> \u4FEE\u6539</p><p>\u4E00\u4E2A\u5305\u542B prettier\uFF0Ceslint\uFF0Cstylelint \u7684\u914D\u7F6E\u6587\u4EF6\u5408\u96C6</p><p>A collection of configuration files containing prettier, eslint, stylelint</p><blockquote><p>\u6CE8\u610F\uFF1A\u4F7F\u7528 <code>@xxx/lint</code> \u68C0\u67E5\u65F6\uFF0C\u56E0\u4E3A eslint \u7B49\u4F9D\u8D56\u5B89\u88C5\u5728 <code>@xxx/lint</code>,\u4F7F\u7528 yarn \u5B89\u88C5\u6709\u65F6\u5BFC\u81F4\u627E\u4E0D\u5230\u5BF9\u5E94\u7684 plugin \u63D2\u4EF6\uFF08\u672A\u5B89\u88C5\u5728\u5F53\u524D\u9879\u76EE\u4E0B\uFF09\uFF0C\u53EF\u4EE5\u6539\u7528 npm \u5B89\u88C5</p></blockquote><h2 id="\u76F8\u5173\u9879\u76EE" tabindex="-1">\u76F8\u5173\u9879\u76EE <a class="header-anchor" href="#\u76F8\u5173\u9879\u76EE" aria-hidden="true">#</a></h2><ul><li>git hooks <ul><li>husky</li><li>lint-staged</li><li><a href="https://www.npmjs.com/package/simple-git-hooks" target="_blank" rel="noopener noreferrer">simple-git-hooks</a><ul><li><a href="https://github.com/toplenboren/simple-git-hooks#readme" target="_blank" rel="noopener noreferrer">https://github.com/toplenboren/simple-git-hooks#readme</a></li></ul></li></ul></li><li>prettier</li><li>eslint</li><li>\u63A5\u5165\u914D\u7F6E <ul><li>xxx-config</li></ul></li><li>\u63A5\u5165 scripts <ul><li>linter xxx</li></ul></li></ul><h2 id="ci-\u6D41\u7A0B\u63A5\u5165" tabindex="-1">CI \u6D41\u7A0B\u63A5\u5165 <a class="header-anchor" href="#ci-\u6D41\u7A0B\u63A5\u5165" aria-hidden="true">#</a></h2><h2 id="\u89C4\u5219\u5217\u8868" tabindex="-1">\u89C4\u5219\u5217\u8868 <a class="header-anchor" href="#\u89C4\u5219\u5217\u8868" aria-hidden="true">#</a></h2><ul><li>coding-style <ul><li>base</li><li>css</li><li>html</li><li>image</li><li>javascript</li><li>json</li><li>react</li><li>taro</li><li>typescript</li><li>vue</li></ul></li><li>rules <ul><li>eslint \u683C\u5F0F\u68C0\u67E5\u3001\u4EE3\u7801\u8BED\u6CD5\u8D28\u91CF\u68C0\u67E5</li><li>prettier \u4E13\u6CE8\u4EE3\u7801\u683C\u5F0F\u5316</li><li>stylelint \u4E13\u6CE8 CSS \u8BED\u6CD5\u683C\u5F0F\u5316</li><li>editorconfig \u7F16\u8F91\u5668\u7F16\u7801\u89C4\u8303\uFF0C\u4F18\u5148\u7EA7\u6BD4\u7F16\u8F91\u5668\u81EA\u8EAB\u7684\u8BBE\u7F6E\u8981\u9AD8</li><li>commitlint \u83B7\u53D6 git commit \u7684\u63CF\u8FF0\u4FE1\u606F\u7136\u540E\u5BF9\u683C\u5F0F\u8FDB\u884C\u89C4\u5219\u6821\u9A8C</li><li>lint-staged \u83B7\u53D6 git add \u540E\u6682\u5B58\u533A\u7684\u4EE3\u7801</li><li>husky \u5C06 git \u5185\u7F6E\u7684\u52FE\u5B50\u51FD\u6570\u66B4\u9732\u51FA\u6765\uFF0C\u4FBF\u4E8E\u914D\u7F6E</li><li>sonar</li></ul></li></ul><h2 id="todo" tabindex="-1">Todo <a class="header-anchor" href="#todo" aria-hidden="true">#</a></h2><p>\u5B9E\u73B0\u81EA\u5B9A\u4E49\u547D\u4EE4\u884C\uFF0C\u5B8C\u6210\u4EE3\u7801\u914D\u7F6E\u4EE5\u53CA\u68C0\u67E5\uFF0C\u5E76\u8F93\u51FA\u7ED3\u679C</p><ul><li>\u8DDF\u968F\u9879\u76EE <ul><li>[ ] lint init \u5B8C\u6210\u914D\u7F6E\u521D\u59CB\u5316\uFF08\u914D\u7F6E\u8DDF\u968F\u9879\u76EE\u8D70\uFF09</li></ul></li><li>\u7EDF\u4E00\u547D\u4EE4\u884C\u63A7\u5236</li><li>[ ] lint --check \u6267\u884C\u4EE3\u7801\u683C\u5F0F\u5316\u68C0\u67E5</li><li>[ ] lint --fix \u6267\u884C\u4EE3\u7801\u683C\u5F0F\u5316\u81EA\u52A8\u4FEE\u590D</li><li>[ ] lint --doctor \u914D\u7F6E\u68C0\u67E5</li></ul><h2 id="use" tabindex="-1">Use <a class="header-anchor" href="#use" aria-hidden="true">#</a></h2><p>\u5B89\u88C5</p><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">npm i @xxx/lint --save-dev</span></span>
<span class="line"><span style="color:#A6ACCD;">yarn add @xxx/lint -D</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># lint \u9700\u8981\u5B89\u88C5\u547D\u4EE4\u9879 \u5982 eslint prettier stylelint</span></span>
<span class="line"><span style="color:#A6ACCD;">npm run lint </span><span style="color:#676E95;font-style:italic;"># \u5236\u4F5C\u8BED\u6CD5\u683C\u5F0F\u68C0\u67E5\uFF0C\u4E0D\u505A\u4FEE\u590D</span></span>
<span class="line"><span style="color:#A6ACCD;">npm run lint:js</span></span>
<span class="line"><span style="color:#A6ACCD;">npm run lint:css</span></span>
<span class="line"><span style="color:#A6ACCD;">npm run lint:prettier</span></span>
<span class="line"><span style="color:#A6ACCD;">npm run lint:fix </span><span style="color:#676E95;font-style:italic;"># \u4FEE\u590D\u8BED\u6CD5\u683C\u5F0F\u7B49</span></span>
<span class="line"><span style="color:#A6ACCD;">npm run lint:js:fix</span></span>
<span class="line"><span style="color:#A6ACCD;">npm run lint:css:fix</span></span>
<span class="line"><span style="color:#A6ACCD;">npm run lint:prettier:fix</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p>in package.json</p><p>eslint \u4F7F\u7528 --cache \u53EF\u80FD\u4F1A\u8BA9\u4FEE\u6539\u7684\u914D\u7F6E\u4E0D\u4F1A\u7ACB\u5373\u751F\u6548</p><p>\u5982\uFF1A<code>eslint --cache --ext .js,.jsx,.ts,.tsx --format=pretty ./src</code></p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">lint</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">npm run lint:js &amp;&amp; npm run lint:css</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">lint:js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cross-env TIMING=1 eslint --cache --ext .js,.jsx,.ts,.tsx --format=pretty ./src</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">lint:css</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">stylelint &#39;src/**/*.less&#39; --syntax less</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">lint:prettier</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">prettier --check &#39;src/**/*&#39; --end-of-line auto</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">lint:fix</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">npm run lint:js:fix &amp;&amp; npm run lint:css:fix &amp;&amp; npm run lint:prettier:fix</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">lint:js:fix</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">eslint --fix --cache --ext .js,.jsx,.ts,.tsx --format=pretty ./src</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">lint:css:fix</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">stylelint --fix &#39;src/**/*.less&#39; --syntax less</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">lint:prettier:fix</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">prettier -c --write &#39;src/**/*.{js,jsx,ts,tsx,less,md,json}&#39; &amp;&amp; git diff &amp;&amp; prettier --version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>in <code>.eslintrc.js</code></p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">extends</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [require</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@xxx/lint/dist/eslint</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// in antd-design-pro</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">globals</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">ANT_DESIGN_PRO_ONLY_DO_NOT_USE_IN_YOUR_PRODUCTION</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">page</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// your rules</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre></div><p>in <code>.stylelintrc.js</code></p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">extends</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [require</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@xxx/lint/dist/stylelint</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// your rules</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre></div><p>in <code>.prettierrc.js</code></p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> lint </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@xxx/lint</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">lint</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prettier</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre></div><p>in <code>.editorconfig</code></p><div class="language-yaml"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;"># https://editorconfig.org/</span></span>
<span class="line"><span style="color:#C3E88D;">root = true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">*</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># \u5339\u914D\u6240\u6709\u7684\u6587\u4EF6</span></span>
<span class="line"><span style="color:#C3E88D;">indent_style = space</span></span>
<span class="line"><span style="color:#C3E88D;">indent_size = 2</span></span>
<span class="line"><span style="color:#C3E88D;">end_of_line = lf</span></span>
<span class="line"><span style="color:#C3E88D;">charset = utf-8</span></span>
<span class="line"><span style="color:#C3E88D;">trim_trailing_whitespace = true</span></span>
<span class="line"><span style="color:#C3E88D;">insert_final_newline = true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;font-style:italic;">*</span><span style="color:#A6ACCD;">.js</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># \u5BF9\u6240\u6709\u7684 js \u6587\u4EF6\u751F\u6548</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># \u5B57\u7B26\u4E32\u4F7F\u7528\u5355\u5F15\u53F7</span></span>
<span class="line"><span style="color:#C3E88D;">quote_type = single</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;font-style:italic;">*</span><span style="color:#A6ACCD;">.md</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#C3E88D;">trim_trailing_whitespace = false</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#C3E88D;">Makefile</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#C3E88D;">indent_style = tab</span></span>
<span class="line"></span></code></pre></div>`,28),e=[o];function t(c,r,i,D,y,F){return l(),n("div",null,e)}var u=s(p,[["render",t]]);export{A as __pageData,u as default};
